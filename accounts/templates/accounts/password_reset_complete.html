{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}ContraseÃ±a Cambiada - Pilates Gravity{% endblock %}

{% block content %}
    <!-- Header del formulario -->
    <div class="text-center mb-8">
        <div class="w-14 h-14 mx-auto mb-4 text-exito success-icon">
            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM10 17l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
            </svg>
        </div>
        <h2 class="text-3xl font-bold text-principal mb-3 tracking-wide">Â¡ContraseÃ±a Cambiada!</h2>
        <p class="text-base text-gris-medio font-light opacity-90 leading-relaxed">
            Tu contraseÃ±a ha sido actualizada exitosamente
        </p>
        <div class="w-20 h-0.5 bg-gradient-to-r from-secundario to-principal mx-auto mt-4 rounded-full"></div>
    </div>

    <div class="max-w-2xl mx-auto px-4">
        <div class="success-message text-center mb-8 p-8 bg-gradient-to-br from-exito/5 to-exito/10 rounded-2xl border border-exito/20 opacity-0 translate-y-5">
            <div class="text-6xl mb-4 message-icon">ğŸ‰</div>
            <h3 class="text-exito text-3xl font-semibold mb-4">Â¡Todo listo!</h3>
            <p class="text-gray-600 leading-relaxed text-lg">
                Tu contraseÃ±a ha sido cambiada exitosamente. 
                Ahora puedes iniciar sesiÃ³n con tu nueva contraseÃ±a y continuar 
                disfrutando de las clases de Pilates Gravity.
            </p>
        </div>

        <div class="next-steps mb-8 opacity-0 translate-y-5">
            <h4 class="text-principal text-center mb-6 text-xl font-semibold">Â¿QuÃ© sigue?</h4>
            <div class="grid md:grid-cols-3 gap-4">
                <div class="step-card bg-white/70 rounded-xl p-6 text-center border border-principal/10 transition-all duration-300 hover:-translate-y-2 hover:shadow-card-hover hover:border-principal/20">
                    <div class="text-4xl mb-4">ğŸ”</div>
                    <h5 class="text-principal mb-2 text-lg font-medium">MantÃ©n tu cuenta segura</h5>
                    <p class="text-gray-600 text-sm leading-relaxed m-0">Recuerda usar una contraseÃ±a Ãºnica y no compartirla con nadie</p>
                </div>
                <div class="step-card bg-white/70 rounded-xl p-6 text-center border border-principal/10 transition-all duration-300 hover:-translate-y-2 hover:shadow-card-hover hover:border-principal/20">
                    <div class="text-4xl mb-4">ğŸ“±</div>
                    <h5 class="text-principal mb-2 text-lg font-medium">Inicia sesiÃ³n</h5>
                    <p class="text-gray-600 text-sm leading-relaxed m-0">Usa tu nueva contraseÃ±a para acceder a tu cuenta</p>
                </div>
                <div class="step-card bg-white/70 rounded-xl p-6 text-center border border-principal/10 transition-all duration-300 hover:-translate-y-2 hover:shadow-card-hover hover:border-principal/20">
                    <div class="text-4xl mb-4">ğŸ§˜â€â™€ï¸</div>
                    <h5 class="text-principal mb-2 text-lg font-medium">Reserva tus clases</h5>
                    <p class="text-gray-600 text-sm leading-relaxed m-0">ContinÃºa con tu rutina de Pilates sin interrupciones</p>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center opacity-0 translate-y-5 login-footer">
        <a href="{% url 'accounts:login' %}" 
           class="success-btn inline-flex items-center gap-3 bg-gradient-to-r from-exito to-green-600 text-white border-none rounded-xl px-8 py-4 text-lg font-semibold cursor-pointer transition-all duration-300 relative overflow-hidden shadow-btn-primary hover:shadow-btn-primary-hover hover:-translate-y-1 focus:outline-none focus:ring-4 focus:ring-exito/25 hover:no-underline mb-4">
            <span class="relative z-10 flex items-center justify-center gap-3">
                <span>Iniciar SesiÃ³n</span>
                <span class="text-xl">ğŸš€</span>
            </span>
        </a>
        <div class="secondary-action">
            <a href="{% url 'gravity:home' %}" 
               class="secondary-link inline-flex items-center gap-2 text-principal no-underline text-sm px-4 py-2 rounded-full transition-all duration-300 hover:bg-principal/10 hover:text-slate-600 hover:no-underline">
                <span class="text-base">ğŸ </span>
                Ir al inicio
            </a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // AnimaciÃ³n de confeti
            createConfetti();
            
            // AnimaciÃ³n de elementos
            const elements = document.querySelectorAll('.success-message, .next-steps, .login-footer');
            elements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.transition = 'all 0.6s ease';
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, 300 * index);
            });

            // AnimaciÃ³n de las cards con delay
            setTimeout(() => {
                const cards = document.querySelectorAll('.step-card');
                cards.forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px) scale(0.95)';
                    setTimeout(() => {
                        card.style.transition = 'all 0.5s ease';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0) scale(1)';
                    }, 100 * index);
                });
            }, 900);
        });

        function createConfetti() {
            const colors = ['#5D768B', '#C8B39B', '#28A745', '#FFC107'];
            const confettiCount = 60;
            
            for (let i = 0; i < confettiCount; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti-particle';
                    confetti.style.position = 'fixed';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-10px';
                    confetti.style.width = '8px';
                    confetti.style.height = '8px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                    confetti.style.pointerEvents = 'none';
                    confetti.style.zIndex = '9999';
                    confetti.style.animation = `confettiFall ${2 + Math.random() * 3}s linear forwards`;
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 6000);
                }, i * 80);
            }

            // Crear partÃ­culas de corazÃ³n especiales
            setTimeout(() => {
                createHeartParticles();
            }, 2000);
        }

        function createHeartParticles() {
            const hearts = ['ğŸ’š', 'ğŸ¤', 'ğŸ’™'];
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.position = 'fixed';
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.top = '-20px';
                    heart.style.fontSize = '1.5rem';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '9999';
                    heart.style.animation = `heartFloat ${3 + Math.random() * 2}s ease-out forwards`;
                    
                    document.body.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 6000);
                }, i * 300);
            }
        }
    </script>
{% endblock %}