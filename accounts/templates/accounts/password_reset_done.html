{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}Email Enviado - Pilates Gravity{% endblock %}

{% block content %}
    <!-- Header del formulario -->
    <div class="text-center mb-8">
        <div class="w-14 h-14 mx-auto mb-4 text-exito success-icon">
            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="currentColor"/>
            </svg>
        </div>
        <h2 class="text-3xl font-bold text-principal mb-3 tracking-wide">¬°Email Enviado!</h2>
        <p class="text-base text-gris-medio font-light opacity-90 leading-relaxed">
            Revisa tu correo electr√≥nico
        </p>
        <div class="w-20 h-0.5 bg-gradient-to-r from-secundario to-principal mx-auto mt-4 rounded-full"></div>
    </div>

    <div class="max-w-lg mx-auto px-4">
        <div class="success-message text-center mb-8 p-6 bg-gradient-to-br from-principal/5 to-secundario/5 rounded-xl border border-principal/10 opacity-0 translate-y-5">
            <div class="text-5xl mb-4">üìß</div>
            <h3 class="text-principal text-2xl font-semibold mb-4">Instrucciones enviadas</h3>
            <p class="text-gray-600 leading-relaxed">
                Hemos enviado las instrucciones para restablecer tu contrase√±a 
                a tu correo electr√≥nico. El enlace ser√° v√°lido por <strong class="text-principal">15 minutos</strong>.
            </p>
        </div>

        <div class="reset-instructions mb-8 opacity-0 translate-y-5">
            <h4 class="text-principal text-center mb-6 text-xl font-semibold">¬øQu√© hacer ahora?</h4>
            <div class="space-y-4">
                <div class="flex items-start gap-4 p-4 bg-white/50 rounded-lg border-l-4 border-secundario transition-all duration-300 hover:bg-white/80 hover:shadow-md">
                    <span class="bg-principal text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1">1</span>
                    <div>
                        <strong class="text-principal block mb-1">Revisa tu bandeja de entrada</strong>
                        <p class="text-gray-600 text-sm m-0">Busca un email de Pilates Gravity</p>
                    </div>
                </div>
                <div class="flex items-start gap-4 p-4 bg-white/50 rounded-lg border-l-4 border-secundario transition-all duration-300 hover:bg-white/80 hover:shadow-md">
                    <span class="bg-principal text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1">2</span>
                    <div>
                        <strong class="text-principal block mb-1">Verifica tu carpeta de spam</strong>
                        <p class="text-gray-600 text-sm m-0">A veces los emails llegan ah√≠ por error</p>
                    </div>
                </div>
                <div class="flex items-start gap-4 p-4 bg-white/50 rounded-lg border-l-4 border-secundario transition-all duration-300 hover:bg-white/80 hover:shadow-md">
                    <span class="bg-principal text-white w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1">3</span>
                    <div>
                        <strong class="text-principal block mb-1">Haz clic en el enlace</strong>
                        <p class="text-gray-600 text-sm m-0">Te llevar√° a crear tu nueva contrase√±a</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="mt-8">
        <div class="reset-actions flex gap-4 justify-center flex-wrap opacity-0 translate-y-5">
            <a href="{% url 'accounts:login' %}" 
               class="reset-action-btn-primary inline-flex items-center gap-2 px-6 py-3 bg-principal text-white rounded-lg font-medium transition-all duration-300 border-2 border-transparent hover:bg-slate-600 hover:-translate-y-1 hover:shadow-btn-primary hover:no-underline focus:outline-none focus:ring-4 focus:ring-principal/25">
                Volver al inicio de sesi√≥n
            </a>
            <a href="{% url 'accounts:password_reset' %}" 
               class="reset-action-btn-secondary inline-flex items-center gap-2 px-6 py-3 bg-transparent text-principal rounded-lg font-medium transition-all duration-300 border-2 border-principal hover:bg-principal hover:text-white hover:-translate-y-1 hover:no-underline focus:outline-none focus:ring-4 focus:ring-principal/25">
                Reenviar email
            </a>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Animaci√≥n de entrada escalonada
            const elements = document.querySelectorAll('.success-message, .reset-instructions, .reset-actions');
            elements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.transition = 'all 0.6s ease';
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, 300 * index);
            });

            // Efecto de confetti opcional al cargar la p√°gina
            setTimeout(() => {
                createConfettiEffect();
            }, 800);
        });

        function createConfettiEffect() {
            const colors = ['#5D768B', '#C8B39B', '#28A745', '#FFC107'];
            const confettiContainer = document.createElement('div');
            confettiContainer.style.position = 'fixed';
            confettiContainer.style.top = '0';
            confettiContainer.style.left = '0';
            confettiContainer.style.width = '100%';
            confettiContainer.style.height = '100%';
            confettiContainer.style.pointerEvents = 'none';
            confettiContainer.style.zIndex = '1000';
            document.body.appendChild(confettiContainer);

            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationName = 'confettiFall';
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetti.style.animationTimingFunction = 'linear';
                confetti.style.animationFillMode = 'forwards';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confettiContainer.appendChild(confetti);
            }

            // Limpiar el confetti despu√©s de la animaci√≥n
            setTimeout(() => {
                document.body.removeChild(confettiContainer);
            }, 8000);
        }
    </script>
{% endblock %}